<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate 3d overlap of predator groups with their prey over time using Schoener Index. — calculate_spatial_overlap • atlantistools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate 3d overlap of predator groups with their prey over time using Schoener Index. — calculate_spatial_overlap" />
<meta property="og:description" content="Calculate 3d overlap of predator groups with their prey over time using Schoener Index." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">atlantistools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/atlantistools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/model-calibration-species.html">model-calibration-species</a>
    </li>
    <li>
      <a href="../articles/model-calibration.html">model-calibration</a>
    </li>
    <li>
      <a href="../articles/model-comparison.html">model-comparison</a>
    </li>
    <li>
      <a href="../articles/model-preprocess.html">model-preprocess</a>
    </li>
    <li>
      <a href="../articles/package-demo.html">package-demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Atlantis-Ecosystem-Model/atlantistools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate 3d overlap of predator groups with their prey over time using Schoener Index.</h1>
    <small class="dont-index">Source: <a href='https://github.com/Atlantis-Ecosystem-Model/atlantistools/blob/master/R/calculate-spatial-overlap.R'><code>R/calculate-spatial-overlap.R</code></a></small>
    <div class="hidden name"><code>calculate_spatial_overlap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate 3d overlap of predator groups with their prey over time using Schoener Index.</p>
    </div>

    <pre class="usage"><span class='fu'>calculate_spatial_overlap</span><span class='op'>(</span><span class='va'>biomass_spatial</span>, <span class='va'>dietmatrix</span>, <span class='va'>agemat</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>biomass_spatial</th>
      <td><p>Biomass timeseries of each group and ageclass per polygon
and layer. This dataframe should be generated with <code><a href='calculate_biomass_spatial.html'>calculate_biomass_spatial</a></code>.</p></td>
    </tr>
    <tr>
      <th>dietmatrix</th>
      <td><p>Availability matrix given in the biological parameter file.
This dataframe should be generated with <code><a href='load_dietmatrix.html'>load_dietmatrix</a></code>. Please
make sure to use <code>convert_names = TRUE</code> in <code><a href='load_dietmatrix.html'>load_dietmatrix</a></code>.</p></td>
    </tr>
    <tr>
      <th>agemat</th>
      <td><p>First mature age class for age structured groups. This dataframe should
be generated with <code><a href='prm_to_df.html'>prm_to_df</a></code> using "age_mat" as parameter.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>List of Schoener's similarity indices ranging from 1 (perfect overlap) to
0 (zero overlap). Dataframe in first listentry gives pred, pred agecl, prey, preyageclass
specific index. Dataframe in second listentry gives index per pred, pred agecl. Si is calculated
as weighted mean with the availabilities as weights.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Using built in datasets.</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"setas-model-new-trunk"</span>, package <span class='op'>=</span> <span class='st'>"atlantistools"</span><span class='op'>)</span>
<span class='va'>prm_biol</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>d</span>, <span class='st'>"VMPA_setas_biol_fishing_Trunk.prm"</span><span class='op'>)</span>
<span class='va'>fgs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>d</span>, <span class='st'>"SETasGroupsDem_NoCep.csv"</span><span class='op'>)</span>

<span class='va'>dietmatrix</span> <span class='op'>&lt;-</span> <span class='fu'><a href='load_dietmatrix.html'>load_dietmatrix</a></span><span class='op'>(</span><span class='va'>prm_biol</span>, <span class='va'>fgs</span>, convert_names <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>`.cols` has been renamed and is deprecated, please use `.vars`</span></div><div class='input'><span class='va'>agemat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='prm_to_df.html'>prm_to_df</a></span><span class='op'>(</span>prm_biol <span class='op'>=</span> <span class='va'>prm_biol</span>, fgs <span class='op'>=</span> <span class='va'>fgs</span>,
                    group <span class='op'>=</span> <span class='fu'><a href='get_groups.html'>get_age_acronyms</a></span><span class='op'>(</span>fgs <span class='op'>=</span> <span class='va'>fgs</span><span class='op'>)</span>,
                    parameter <span class='op'>=</span> <span class='st'>"age_mat"</span><span class='op'>)</span>

<span class='va'>sp_overlap</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_spatial_overlap</span><span class='op'>(</span>biomass_spatial <span class='op'>=</span> <span class='va'>ref_bio_sp</span>,
                                        dietmatrix <span class='op'>=</span> <span class='va'>dietmatrix</span>,
                                        agemat <span class='op'>=</span> <span class='va'>agemat</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Keth, Andy Beet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


