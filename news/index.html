<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • atlantistools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">atlantistools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/atlantistools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/model-calibration-species.html">model-calibration-species</a>
    </li>
    <li>
      <a href="../articles/model-calibration.html">model-calibration</a>
    </li>
    <li>
      <a href="../articles/model-comparison.html">model-comparison</a>
    </li>
    <li>
      <a href="../articles/model-preprocess.html">model-preprocess</a>
    </li>
    <li>
      <a href="../articles/package-demo.html">package-demo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Atlantis-Ecosystem-Model/atlantistools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/Atlantis-Ecosystem-Model/atlantistools/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="atlantistools-050" class="section level1">
<h1 class="page-header" data-toc-text="0.5.0">
<a href="#atlantistools-050" class="anchor"></a>atlantistools 0.5.0<small> Unreleased </small>
</h1>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>New <code>get</code> function to extract information from <code>functionalGroups.csv</code>
<ul>
<li>
<code>get_cohorts_acronyms</code>. Extract Codes of species with specified number of cohorts</li>
<li>
<code>get_fished_acronyms</code>. Extract Codes of species for which IsFished = 1</li>
<li>
<code>get_turnedon_acronyms</code>. Extract Codes of species for which IsTurneOn = 1</li>
</ul>
</li>
<li>
<code>load_mort</code> Reads in output from Mort.txt file</li>
<li>
<code>load_spec_mort</code>. Reads in mortality output from SpecificMort.txt</li>
</ul>
</div>
<div id="minor-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements" class="anchor"></a>Minor improvements</h2>
<ul>
<li>
<code>load_spec_pred_mort</code>renamed from <code>load_spec_mort</code>. Reads in mortality output from SpecificPredMort.txt</li>
<li>
<code>preprocess_txt</code>. Added argument <code>removeZeros = T</code>. User can select not to remove zeros from output</li>
<li>
<code>plot_line</code>. Added argument, <code>ylim</code> to specify min and max values</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code>load-init</code> Variables that have data at box level only (no layer data) can now be read from the nc file.</li>
</ul>
</div>
</div>
    <div id="atlantistools-043" class="section level1">
<h1 class="page-header" data-toc-text="0.4.3">
<a href="#atlantistools-043" class="anchor"></a>atlantistools 0.4.3<small> 2017-08-16 </small>
</h1>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Minor bugfixes associated with R CMD check NOTE.
<ul>
<li>Reduced file size of <code>inst\extdata\setas-model-new-trunk</code>.</li>
</ul>
</li>
</ul>
</div>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li>
<code>get_maturity_fishbase</code> Extract maturity parameters (length and age based) from fishbase.</li>
<li>
<code>scan_reference_fishbase</code> Scan reference list from fishbase for a particular species for a species character string, e.g. “diet” or “feeding”.</li>
</ul>
</div>
</div>
    <div id="atlantistools-042" class="section level1">
<h1 class="page-header" data-toc-text="0.4.2">
<a href="#atlantistools-042" class="anchor"></a>atlantistools 0.4.2<small> 2017-05-18 </small>
</h1>
<div id="bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Minor bugfixes associated with R CMD check NOTE.
<ul>
<li>Reduced file size of pre-build vignettes with <code><a href="https://rdrr.io/r/tools/compactPDF.html">tools::compactPDF(gs_quality = 'ebook')</a></code>.</li>
<li>Moved <code>rfishbase</code> to <code>Suggests</code> in DESCRIPTION.</li>
<li>Started to add visual tests using <code>vdiffr</code>.</li>
</ul>
</li>
</ul>
</div>
</div>
    <div id="atlantistools-041" class="section level1">
<h1 class="page-header" data-toc-text="0.4.1">
<a href="#atlantistools-041" class="anchor"></a>atlantistools 0.4.1<small> 2017-05-09 </small>
</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New features</h2>
<ul>
<li>
<code>get_growth_fishbase</code> Extract Van Bertalannfy growth parameters (k, linf, t0) from <a href="http:://fishbase.se" class="uri">http:://fishbase.se</a>. You need to pass a vector of fish names consisiting of both species and genus. In addition you can modify the optional mirror argument to speed up data extraction. The argument currently defaults to “.se”.</li>
<li>
<code>get_ids_fishbase</code> In order to extract data from fishbase species specific URLs need to be generated. This function is used to extract the fishbase reference id for any amount of fish species. The id is extracted from <code><a href="https://docs.ropensci.org/rfishbase/reference/fishbase.html">rfishbase::fishbase</a></code>.</li>
<li>
<code>get_ref_fishbase</code> Extract bibliographic information for Van Bertalannfy growth parameters from fishbase.</li>
</ul>
</div>
<div id="minor-improvements-1" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-1" class="anchor"></a>Minor improvements</h2>
<ul>
<li>Remove column <code>Updated</code> which is generated in new trunk models in <code>load_dietcheck</code> (Thanks to Sieme Bossier).</li>
</ul>
</div>
<div id="bug-fixes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Added NA handling to some functions (Thanks to Javier Porobic).</li>
<li>Prevent <code>prm_to_df</code> to no longer overwrite existing columns (Thanks to Javier Porobic).</li>
<li>Switch column names <code>pred</code> and <code>prey</code> in <code>load_spec_mort</code> for trunk models.</li>
</ul>
</div>
</div>
    <div id="atlantistools-0409000" class="section level1">
<h1 class="page-header" data-toc-text="0.4.0.9000">
<a href="#atlantistools-0409000" class="anchor"></a>atlantistools 0.4.0.9000<small> Unreleased </small>
</h1>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New features</h2>
<p>Removed the <code>dir</code> parameter from all functions. This will provide the most flexibility in setting your Atlantis simulations. You can now use any kind of filestructure. The easiest way to use <code>atlantistools</code> is to define the Atlantis folder as working directory in your active R session. In addition you should try to work with a R project. By doing so you can simply pass the filenames (no directory needed anymore) as parameters. In addition files in subdirectories are auto-completed in the R project (given you have the newest RStudio version).</p>
<p>Unfortunately, this might break existing code but we will all benefit from this greatly in the future.</p>
</div>
</div>
    <div id="atlantistools-0339000" class="section level1">
<h1 class="page-header" data-toc-text="0.3.3.9000">
<a href="#atlantistools-0339000" class="anchor"></a>atlantistools 0.3.3.9000<small> Unreleased </small>
</h1>
<div id="development-manifesto" class="section level2">
<h2 class="hasAnchor">
<a href="#development-manifesto" class="anchor"></a>Development manifesto</h2>
<p>The internal structure of atlantistools was updadted considerably. Unfortunately, this might break existing code. Please check out the updated versions of the vignettes <code>model-calibration</code>, <code>model-calibration-species</code> and <code>model-comparison</code> to get an idea on how to update your existing code.</p>
<p>Following are the main changes to the previous version:</p>
<ol>
<li><p>Examples and tests are now based on the SETAS-trunk model. The package still works with bec_dev models, however the focus of development is shifted towards the trunk code base.</p></li>
<li><p><code>preprocss()</code> was replaced with <code>model-preprocess.Rmd</code>. Modelers can now build their own preprocessing routine using the built in <code>model-preprocess</code> vignette. This does not impair the functionality of the package in any way but further improves the modulate structure of atlantisttols. Modelers can decide for themselves which routines they want to include in their personalised preprocessing application. In addition contributing to atlantistools is much easier now due to the removed technical overhead within the old <code>preprocess</code> function.</p></li>
<li><p>Functions within atlantistools follow a specific hierarchy. The lowest level of hierarchy is comprised of the <code>load_</code> functions. These functions form the main link between the Atlantis simulation and the R environment and ensure data is transformed according to the tidy dataframe framework by Hadley Wickham (Tidy Data - Available at: <a href="http://vita.had.co.nz/papers/tidy-data.pdf" class="uri">http://vita.had.co.nz/papers/tidy-data.pdf</a>). Based on the <code>load_</code> functions various <code>calculate_</code> functions can be applied to calculate model specific metrics like spatial biomass or consumed biomass. The last layer is formed by the <code>plot_</code> functions. These functions can be applied to dataframes generated with <code>load_</code> functions directly or via the <code>calculate_</code> functions. Please feel free to contribute to any of those functions to further improve the functionality of atlantistools.</p></li>
<li><p>The plotting modules within atlantistools were overhauled. Instead of dataframe specific plotting routines two main plot functions, naimly <code>plot_line</code> and <code>plot_bar</code> are introduced. Most plots within atlantistools are based on the ggplot2 architecture. Thus, it is very easy to modulate the plots to your personal likings. To further specialise the generalised main plotting functions low-level functions like <code>plot_add_box</code> and <code>plot_add_range</code> can be added to customise the visualisations.</p></li>
</ol>
</div>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New features</h2>
<ul>
<li>
<code>load_init_stanza</code> Read in nitrogen values from your initial conditions file for stanza based groups.</li>
<li>
<code>plot_line</code> Visualise data as line chart.</li>
<li>
<code>plot_bar</code> Visualise data as bar chart.</li>
<li>
<code>plot_add_box</code> Add boxes around relative timeseries plots to indicate if data is within an acceptable range.</li>
<li>
<code>plot_add_range</code> Add external data as rug-plot to the left and right y-axis to check if data from an Atlantis simulation is within the range of obeserved data.</li>
</ul>
</div>
<div id="documentation-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation-improvements" class="anchor"></a>Documentation improvements</h2>
<ul>
<li>Added various reference dataframes from the SETAS-trunk model. See <code>data.R</code> for more information.</li>
</ul>
</div>
</div>
    <div id="atlantistools-0329000" class="section level1">
<h1 class="page-header" data-toc-text="0.3.2.9000">
<a href="#atlantistools-0329000" class="anchor"></a>atlantistools 0.3.2.9000<small> Unreleased </small>
</h1>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New features</h2>
<ul>
<li><p><code>calculate_biomass_spatial</code> Calculate the total biomass in tonnes for every group and ageclass combination per time, polygon and layer. Data is read in from ‘output[…].nc’ using the <code>load_nc</code> function. Biomass for age based groups is calculated as (StructN [mgN] + ResN [mgN]) * Numbers [individuals]. Biomass for non age based groups is calculated as N [mgN] * volume [m^3] (sediment-dz [m] / volume [m^3] for epibenthic groups). mgN is converted to tonnes based on the stettings in the biol.prm file. Simulation time steps are converted to time in years based on the output timesteps given in run.prm. Group names are unified to match the column ‘LongName’ in the functionalGroups.csv. All these transformations are applied in every <code>calculate</code> or <code>load</code> function to guarantee the same structure in all dataframes.</p></li>
<li><p><code>calculate_consumed_biomass</code> Calculate the consumed biomass in tonnes of every preygroup by a predator/predatorageclass combination for each timestep and polygon. Consumption data is extracted from output[…]PROD.nc. Age based groups are stored as “Eat_” non age based groups as “Grazing_”. Units are consumed mass in mg N m^-3 d^-1. The consumed biomass is scaled by the boxvolume and transformed to tonnes. Diet contribution data is extracted from DietCheck.txt. Currently this only works for models based on the trunk code. Units are % diet contribution. To calculate the consumed biomass for each preytype the total consumed biomass (per predator/ageclass/time/polygon) is multiplied with the dietcontribution of that prey to the predator.</p></li>
<li><p><code>calculate_spatial_overlap</code> The spatial overlap between predator and prey groups is calculated based on the concept of Schoener’s similarity index ranging from 1 (perfect overlap) to 0 (zero overlap). The function returns 2 dataframes. Firstly the Schoener index per predator/ageclass/prey combination. Secondly the index is calculated as a weighted mean per predator/predatorageclass with the prey availabilities as weights. The second version can be used to test the overlap of the predator with an emphasis on the most important prey groups. In the current version all potential polygons and layers (islands/boundary boxes and non-existent layers are excluded) are used to calculate the spatial overlap even if a predator is never present in a specific polygon and layer. This may result in very low overlap indices in case your species have a narrow spatial distribution.</p></li>
<li><p><code>check_growth</code> helps to track changes in group- and age specific individual weight over time. You can either track the maximum relative change in individual weight over the whole simulation period or the relative change within each year in case you have multiple outputs per year. This will allow you to easily track unrealistically high changes in individual weight throughout the simulation.</p></li>
<li><p><code>plot_diet</code> I updated the way <code>plot_diet</code> works. The new version of <code>plot_diet</code> only works with trunk models. Please use <code>plot_diet_bec_dev</code> for models based on the bec_dev code version. <code><a href="../reference/plot_diet.html">plot_diet()</a></code> now displays the realised diet contribution (both per predator and prey perspective) based an the amount of consumed biomas.</p></li>
<li><p>Please note, <code>plot_diet_bec_dev</code> does not work with DietCheck.txt anymore. Please use SpecPredMort.txt instead. It should be noted that the resulting plot only gives an indication of the realisd diets with bec_dev models.</p></li>
<li><p><code>sc_init</code> sanity check for your initial conditions file. Given the prey densities, C and MUM values in your initial conditions file the required growth per group and ageclass (which is the growth needed to grow from ageclass i to ageclass i+1) is compared with the realised growth given your initial conditions file.</p></li>
<li><p><code>plot_sc_init</code> This function is tightly linked to <code>sc_init</code>. Based on the calculations in <code>sc_init</code> you can pass multiplication factors for your initial MUM and C values to visualise the effect on the relative growth (realised growth/required growth). This visualisation can be used to give you an indication of the MUM/C/Avail parameterspace prior to your simulation. Please keep in mind that growth is highly simplified and may not represent the actual growth in your soimulation due to the absence of major ecological processes (e.g. rugosity, reproductioncosts, refuge, …).</p></li>
<li><p><code>plot_consumed_biomass</code> In addition to <code>diet_plot</code> you can use this function to visualise the group specific biomass flow for the whole system at any timestep of your simulation with a circle-flow-diagram (These things just look awesome). Please note, this function is still in early development.</p></li>
<li><p><code>plot_spatial_overlap</code> Visualise the Schoener index calculated with <code>calculate_spatial_overlap</code>. Please note, this function is still in early development.</p></li>
<li><p><code>combine_ages</code> Transform an ageclass based dataset to a stanza based dataset using the age_mat parameters in your biol.prm file.</p></li>
<li><p><code>prm_to_df</code> Extract parameters from your biological parameter file (e.g. MUM, C, KWRR, KWSR, age_mat …) and convert the output to a tidy dataframe. Please note, there are two versions of this function available. Like the <code>extract_prm</code> functions one function is used to convert non ageclass specific parameters (these are parameters which have 1 value per parameter. Value and parameter flag are stored in the same line the prm file) <code>prm_to_df</code> and ageclass specific ones (these parameters are ususally stored in the row following the flag in the prm file and multiple values are stored per parameter. E.g. MUM, C, VERTday) <code>prm_to_df_ages</code>. This can be very helpful to either add additional information to any kind of tidy dataframe in atlantistools. For example adding age at maturity to an ageclass based dataframe. In addition this might be helpful to extract parameter values from any model and distribute them among collegues in a unified format (E.g. to compare parameters).</p></li>
<li><p><code>load_init</code> Read in information from your initial conditions file (e.g. StructN, ResN, Nums, N). Based on the different format of the variables there are 3 functions available currently:</p></li>
</ul>
<ol>
<li>
<code>load_init_age</code> to read in age-specific data like ResN, StructN, Nums.</li>
<li>
<code>load_init_nonage</code> to read in N.</li>
<li>
<code>load_init_physics</code> to read in physical parameters like Salt, Volume, Temp, NH3 and so on.</li>
</ol>
</div>
</div>
    <div id="atlantistools-0319000" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1.9000">
<a href="#atlantistools-0319000" class="anchor"></a>atlantistools 0.3.1.9000<small> Unreleased </small>
</h1>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New features</h2>
<ul>
<li>
<code><a href="../reference/plot_species.html">plot_species()</a></code> is based on the species-specific overview plots used at CSIRO and Ifremer (Raphael). For each age-structured group (10 ageclasses) the biomass, individual weight, numbers and condition are shown per age for the model simulation.</li>
</ul>
</div>
<div id="minor-improvements-2" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-2" class="anchor"></a>Minor improvements</h2>
<ul>
<li>
<code><a href="../reference/combine_groups.html">combine_groups()</a></code> can be used to combine different grouping variables within a plot to a <code>Rest-group</code>. Assume you want to visualise the feeding interactions of species x. The prey groups are usually mapped to colors in <code>atlantistool</code>. For some groups there might be high number of prey organisms (e.g. 20+). Therefore color-coding becomes as hassle. You can use the <code><a href="../reference/combine_groups.html">combine_groups()</a></code> function to gather all groups with a low contribution to the overall value to a <code>Rest</code> group to minimise the number of grouping variables resulting in fewer colors in the final plot. The function is build into the <code><a href="../reference/plot_diet.html">plot_diet()</a></code> function but can be used in other occasions as well.</li>
<li>
<code><a href="../reference/convert_time.html">convert_time()</a></code> now converts timesteps/days to years. You can still convert to time in date-format. In this case set <code>as_date</code> to <code>TRUE</code> and pass the <code>modelstart</code> as usual. By default <code>as_date</code> is <code>FALSE</code> in the new version of the package. You might need to adjust this in your plotting routines.</li>
</ul>
</div>
</div>
    <div id="atlantistools-0309000" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0.9000">
<a href="#atlantistools-0309000" class="anchor"></a>atlantistools 0.3.0.9000<small> Unreleased </small>
</h1>
<div id="new-features-7" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-7" class="anchor"></a>New features</h2>
<ul>
<li>
<code><a href="../reference/plot_diet.html">plot_diet()</a></code> This functions replaces <code>plot_dietcheck()</code>. The resulting plot will give an indication about feeding interactions for each functional group. The upper panel shows the feeding interaction from the predator perspective while the lower panel focuses on the prey perspective. You can either pass data from the DietCheck.txt or the SpecMort.txt file. In the first case the plots are faceted according to the habitat while in the latter case plots are either faceted by ageclass or stanza.</li>
<li>
<code><a href="../reference/combine_ages.html">combine_ages()</a></code> can be used to convert ageclass to stanzas (juvenile/adult). Currently this only works for groups with exactly 10 ageclasses. The stanzas are split according to the age_mat parameter in the biological parameterfile. You can apply this function to convert the ageclass based specific mortality data to stanzas in order to simplify your plotting routines/anaylsis of the feeding interactions.</li>
<li>
<code><a href="../reference/load_spec_mort.html">load_spec_mort()</a></code> allows the extraction of predation mortalities from the SpecMort.txt file. The data is stored in the overall summary list generated with <code><a href="../reference/preprocess.html">preprocess()</a></code>. In order to guarantee the highest amount of flexibility in further analysis the data is not aggregated in any way. You may choose to aggregate ageclasses to stanzas with <code><a href="../reference/combine_ages.html">combine_ages()</a></code> if you please. The addition of this file might blow up the resulting .rda file but the filesize should still be easily manageable (1GB .nc and 100MB SpecMort.txt are stored as 30MB .rda).</li>
</ul>
</div>
</div>
    <div id="atlantistools-0209000" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0.9000">
<a href="#atlantistools-0209000" class="anchor"></a>atlantistools 0.2.0.9000<small> Unreleased </small>
</h1>
<div id="new-features-8" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-8" class="anchor"></a>New features</h2>
<ul>
<li>
<code><a href="../reference/combine_runs.html">combine_runs()</a></code> can be used to combine preprocessed data created with <code><a href="../reference/preprocess.html">preprocess()</a></code> from different Atlantis simulations. The model output can be compared with the vignette code <code>model-comparison.Rmd</code>.</li>
<li>The vignette <code>model-calibration.Rmd</code> can be used to create various model calibration and tuning plots for a single simulation. The vignette can be used as blueprint for different Atlantis models. Simply download the vignette code, change the first section where the data is read in to your likings, modify the plot dimensions and you are good to go.</li>
<li>Added <code>model-comparison.Rmd</code> to compare multiple Atlantis simulations. It works very similar to <code>model-calibration.Rmd</code>.</li>
</ul>
</div>
<div id="minor-improvements-3" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-3" class="anchor"></a>Minor improvements</h2>
<ul>
<li>
<code><a href="../reference/load_dietcheck.html">load_dietcheck()</a></code> and <code><a href="../reference/load_rec.html">load_rec()</a></code> are incorporated into <code><a href="../reference/preprocess.html">preprocess()</a></code>. The resulting dataframe are now part of the output and can be accessed directly from the list via <code>out$diet</code> and <code>out$ssb_rec</code>. <code><a href="../reference/convert_factor.html">convert_factor()</a></code> was overhauled. Due to the inclusion of <code><a href="../reference/load_dietcheck.html">load_dietcheck()</a></code> there is no more <code>Rest</code> group when the name conversion is performed.</li>
<li>
<code><a href="../reference/convert_time.html">convert_time()</a></code> can now handle different input formats without any user specifications.</li>
<li>Added vignette <code>model-calibration</code> to automatically build a pdf document with various plotting routines used for model tuning and calibration.</li>
</ul>
</div>
</div>
    <div id="atlantistools-0109000" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0.9000">
<a href="#atlantistools-0109000" class="anchor"></a>atlantistools 0.1.0.9000<small> Unreleased </small>
</h1>
<div id="new-features-9" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-9" class="anchor"></a>New features</h2>
<ul>
<li><code>plot_bench()</code></li>
<li><code><a href="../reference/plot_boxes.html">plot_boxes()</a></code></li>
<li><code>plot_calibrate()</code></li>
<li><code>plot_dietcheck()</code></li>
<li><code>plot_flux()</code></li>
<li><code>plot_physics()</code></li>
<li><code><a href="../reference/plot_rec.html">plot_rec()</a></code></li>
<li><code>plot_struct()</code></li>
<li><code>plot_ts()</code></li>
</ul>
</div>
</div>
    <div id="atlantistools-0009000" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9000">
<a href="#atlantistools-0009000" class="anchor"></a>atlantistools 0.0.0.9000<small> Unreleased </small>
</h1>
<div id="new-features-10" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-10" class="anchor"></a>New features</h2>
<ul>
<li>
<code><a href="../reference/load_fgs.html">load_fgs()</a></code> Read in the functional group file as dataframe.</li>
<li>
<code><a href="../reference/load_bps.html">load_bps()</a></code> Extracts the names of the epibenthic biomasspools from the initial conditions file.</li>
<li>
<code><a href="../reference/load_box.html">load_box()</a></code> Load the box specification file (*.bgm) for an Atlantis scenario.</li>
<li>
<code><a href="../reference/load_nc.html">load_nc()</a></code> Read in data from Atlantis netcdf output files. Currently the general and the production outputfile are supported. In addition the following variables can be read in: “N”, “Nums”, “ResN”, “StructN”, “Eat”, “Growth”, “Prodn” and “Grazing”. Please only pass one variable per function call.</li>
<li>
<code><a href="../reference/load_nc_physics.html">load_nc_physics()</a></code> Read in physical data from Atlantis netcdf output file. Works very similar like load_nc.</li>
<li>
<code><a href="../reference/load_dietcheck.html">load_dietcheck()</a></code> Read in data from the <code>DietCheck.txt</code> output file. Currently only models based on the <code>bec_dev</code> branch are supported due to differences in data structure with <code>trunc</code> models.</li>
<li>
<code><a href="../reference/load_rec.html">load_rec()</a></code> Read in data from the <code>*SSB.txt</code> and <code>*YOY.txt</code> output files.</li>
<li>
<code>plot_calibrate()</code> Plot relative timeseries of various variables (E.g. <a href="mailto:biomass@age" class="email">biomass@age</a>, <a href="mailto:weight@age" class="email">weight@age</a>). The start of the model run is used as reference point.</li>
<li>
<code><a href="../reference/preprocess.html">preprocess()</a></code> Various model specifications are read in from the ncdf-output files and aggregated with different levels of complexity. (E.g. biomass per species, time and ageclass or biomass per species, time and box). The data can be stored in a *.rda file to save storage on harddisc. The function returns a list of dataframes which all have the same structure. This function should be executed before you start plotting as most of the plotting routines pull out the data from this file/object.</li>
<li>
<code>agg_mean()</code> Aggregate data using dplyr functionality. This is basically a wrapper for ‘group_by’ followed by ‘summarise’.</li>
<li>
<code>agg_sum()</code> See ‘agg_mean’ for further details. The summary function used her is ‘sum’.</li>
</ul>
</div>
<div id="minor-improvements-4" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-4" class="anchor"></a>Minor improvements</h2>
<ul>
<li>
<code>convert_path()</code> Allows users to use the model with either one model folder or multiple model folders (e.g. one main model folder and an extra folder for model output). I highly recommend to store all the data in one folder because then you only have to supply the directory once and can acces all files using only the filename. If you are using multiple files you always have to pass the complete folder/filename-string as filename and set the ‘dir’ paramater to NULL.</li>
<li>
<code><a href="../reference/convert_bgm.html">convert_bgm()</a></code> Convert <code>*.bgm</code> file to a dataframe using a spatial projection.</li>
<li>
<code><a href="../reference/convert_factor.html">convert_factor()</a></code> Convert species names in output files to long names. Therefore the plots all use the same labeling. Simply change the values in your <code>functionalGroups.csv</code> file in the column <code>LongName</code> if you want to change the names.</li>
<li>
<code><a href="../reference/convert_time.html">convert_time()</a></code> Convert from timestep (either as integer or number of days) to actual time.</li>
<li>
<code><a href="../reference/get_boundary.html">get_boundary()</a></code> Extract the boundary boxes from the list of boxinfos generated with ‘load_box()’.</li>
<li>
<code><a href="../reference/get_conv_mgnbiot.html">get_conv_mgnbiot()</a></code> Extract the conversionfactor to convert data from mg nitrogen to biomass in t from the biol*.prm file.</li>
<li>
<code><a href="../reference/get_groups.html">get_groups()</a></code> Collection of similar functions to extract specific
#’ columns from the Atlantis functionalGroups.csv file. (E.g. cohort-groups, acronyms, group names …)</li>
<li>
<code>theme_atlantis</code> Customised ggplot2 theme used in every plot.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Keth, Andy Beet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


